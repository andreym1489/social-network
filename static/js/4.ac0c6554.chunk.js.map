{"version":3,"sources":["components/HOC/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","className","s","dialog","activeClassName","active","id","name","Message","ava","src","message","maxLength15","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmitSuccess","result","dispatch","reset","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Dialogs","dialogsPage","dialogsElements","dialogs","map","d","messagesElements","messages","m","dialogsItems","data","addMessage","newMessageBody","compose","addMessageActionCreator"],"mappings":"4NAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OAET,cAACG,EAAD,eAAeE,KAAKC,QAFI,cAAC,IAAD,CAAUC,GAAI,8BAHV,GACXC,IAAML,WAQtC,OAAOM,YAAQX,EAARW,CAAoCL,K,oBChB/CM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,SAAW,4B,oBCA7GD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,OAAS,6B,oBCA/DD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,IAAM,uB,6GCU5CC,EARI,SAACN,GAChB,OACI,qBAAKO,UAAWC,IAAEC,OAAlB,SACI,cAAC,IAAD,CAASC,gBAAiBF,IAAEG,OAAQV,GAAI,YAAcD,EAAMY,GAA5D,SAAiEZ,EAAMa,U,kBCMpEC,EAVC,SAACd,GACb,OACI,gCACI,qBAAKO,UAAWC,IAAEO,IAAKC,IAAI,kEAC3B,qBAAKT,UAAWC,IAAES,QAAlB,SAA4BjB,EAAMiB,c,iDCFxCC,EAAcC,YAAiB,IA2BtBC,EALaC,YAAU,CAClCC,KAAM,UACNC,gBALgB,SAACC,EAAQC,GAAT,OAChBA,EAASC,YAAM,0BAESL,EApBL,SAACrB,GACpB,OACI,uBAAM2B,SAAU3B,EAAM4B,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,YAAY,qBACZnB,KAAK,iBACLoB,SAAU,CAACC,IAAUhB,OAEhC,8BACI,2JCgBDiB,EAzBC,SAACnC,GACb,IAAIoC,EAAcpC,EAAMoC,YAEpBC,EAAkBD,EAAYE,QAAQC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAY5B,GAAI4B,EAAE5B,GAAIC,KAAM2B,EAAE3B,UAC7E4B,EAAmBL,EAAYM,SAASH,KAAI,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAS1B,QAAS0B,EAAE1B,aAEzE,IAAKjB,EAAMN,OAAQ,OAAO,cAAC,IAAD,CAAUO,GAAI,WAMxC,OACI,sBAAKM,UAAWC,IAAE8B,QAAlB,UACI,qBAAK/B,UAAWC,IAAEoC,aAAlB,SACKP,IAEL,sBAAK9B,UAAWC,IAAEkC,SAAlB,UACKD,EACD,cAAC,EAAD,CAAqBd,SAXhB,SAACkB,GACd7C,EAAM8C,WAAWD,EAAKE,0B,yBCKfC,4BACX7C,aAfkB,SAACV,GACnB,MAAO,CACH2C,YAAa3C,EAAM2C,gBAIF,SAACX,GACtB,MAAO,CACHqB,WAAY,SAACC,GACTtB,EAASwB,YAAwBF,SAOzCnD,IAFWoD,CAGbb","file":"static/js/4.ac0c6554.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/social-network/login'}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1k6My\",\"dialogsItems\":\"Dialogs_dialogsItems__2_97_\",\"messages\":\"Dialogs_messages__3omLc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__27NHP\",\"active\":\"DialogItem_active__FB7ey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__28tXK\",\"ava\":\"Message_ava__3zPJV\"};","import s from './DialogItem.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink activeClassName={s.active} to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import s from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div>\r\n            <img className={s.ava} src=\"https://object.pscloud.io/cms/cms/Photo/img_0_2080_562_6.jpeg\"/>\r\n            <div className={s.message}>{props.message}</div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Message;","import {Field, reduxForm, reset} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst maxLength15 = maxLengthCreator(15)\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       placeholder='Enter your message'\r\n                       name='newMessageBody'\r\n                       validate={[required, maxLength15]}/>\r\n            </div>\r\n            <div>\r\n                <button>Отправить сообщение</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('AddMessageFormRedux'));\r\n\r\nconst AddMessageFormRedux = reduxForm({\r\n    form: 'dialogs',\r\n    onSubmitSuccess: afterSubmit\r\n})(AddMessageForm);\r\n\r\nexport default AddMessageFormRedux;","import s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport AddMessageFormRedux from \"./AddMessageForm\";\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsPage = props.dialogsPage;\r\n\r\n    let dialogsElements = dialogsPage.dialogs.map(d => <DialogItem id={d.id} name={d.name}/>)\r\n    let messagesElements = dialogsPage.messages.map(m => <Message message={m.message}/>)\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n    const onSubmit = (data) => {\r\n        props.addMessage(data.newMessageBody);\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <AddMessageFormRedux onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {addMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (newMessageBody) => {\r\n            dispatch(addMessageActionCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}